import{r as o,j as e,g as q,B as A,R as L}from"./klyora.js";const P=({isOpen:t,onClose:m,productName:b})=>{const[p,d]=o.useState(1),[a,u]=o.useState({height:"",weight:"",preference:"regular"}),[r,w]=o.useState(null),[j,g]=o.useState(!1);if(!t)return null;const y=async()=>{g(!0);const x=await q.getSizeRecommendation({height:parseInt(a.height),weight:parseInt(a.weight),chest:0,waist:0,hips:0,preferredFit:a.preference==="tight"?"Slim":a.preference==="loose"?"Oversized":"Regular"},{name:b});w(x),g(!1),d(2)};return e.jsxs("div",{className:"fixed inset-0 z-[600] flex items-center justify-center p-4 font-sans",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm animate-fade-in",onClick:m}),e.jsxs("div",{className:"relative w-full max-w-sm bg-white p-8 shadow-2xl animate-scale-in",children:[e.jsx("button",{onClick:m,className:"absolute top-4 right-4 text-zinc-400 hover:text-black",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-[9px] uppercase tracking-[0.3em] font-bold text-zinc-400 mb-1",children:"Klyora Atelier"}),e.jsx("h2",{className:"text-xl font-serif italic",children:"Find My Fit"})]}),p===1?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] uppercase tracking-widest text-zinc-500 mb-2",children:"Height (cm)"}),e.jsx("input",{type:"number",placeholder:"175",className:"w-full bg-zinc-50 border-b border-zinc-200 p-2 text-sm outline-none focus:border-black",value:a.height,onChange:x=>u({...a,height:x.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] uppercase tracking-widest text-zinc-500 mb-2",children:"Weight (kg)"}),e.jsx("input",{type:"number",placeholder:"70",className:"w-full bg-zinc-50 border-b border-zinc-200 p-2 text-sm outline-none focus:border-black",value:a.weight,onChange:x=>u({...a,weight:x.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[8px] uppercase tracking-widest text-zinc-500 mb-2",children:"Fit Preference"}),e.jsx("div",{className:"flex gap-2",children:["tight","regular","loose"].map(x=>e.jsx("button",{onClick:()=>u({...a,preference:x}),className:`flex-1 py-3 text-[9px] uppercase tracking-widest border transition-colors ${a.preference===x?"bg-black text-white border-black":"border-zinc-200 text-zinc-400 hover:border-black"}`,children:x},x))})]}),e.jsx("button",{onClick:y,disabled:!a.height||!a.weight||j,className:"w-full bg-black text-white py-3 text-[10px] font-bold uppercase tracking-[0.3em] hover:bg-zinc-800 transition-all disabled:opacity-50 mt-2",children:j?"Analyzing...":"Calculate Size"})]}):e.jsxs("div",{className:"text-center animate-fade-in",children:[e.jsx("p",{className:"text-[9px] uppercase tracking-widest text-zinc-500 mb-4",children:"Recommended Size"}),e.jsx("div",{className:"text-4xl font-serif mb-4 flex justify-center items-center gap-2",children:e.jsx("span",{className:"w-12 h-12 rounded-full bg-[#8ca67a] text-white flex items-center justify-center",children:r==null?void 0:r.size})}),e.jsxs("p",{className:"text-xs text-zinc-600 leading-relaxed font-light mb-6",children:['"',r==null?void 0:r.rationale,'"']}),e.jsx("button",{onClick:m,className:"w-full border border-black text-black py-3 text-[10px] font-bold uppercase tracking-[0.2em] hover:bg-black hover:text-white transition-colors",children:"Add to Bag"})]})]})]})},O=({productName:t})=>{const[m,b]=o.useState([]),[p,d]=o.useState(!1),[a,u]=o.useState({rating:5,comment:"",name:""}),[r,w]=o.useState(!1),[j,g]=o.useState(!1);o.useEffect(()=>{(async()=>{d(!0);let l=[];try{const c=localStorage.getItem(`klyora_reviews_${t}`);l=c?JSON.parse(c):[],Array.isArray(l)||(l=[])}catch(c){console.warn("Corrupt review data",c),l=[]}b(l),d(!1)})()},[t]);const y=n=>{n.preventDefault(),a.comment.trim()&&(w(!0),setTimeout(()=>{const l={id:Math.random().toString(36).substr(2,9),name:a.name||"Boutique Guest",rating:a.rating,comment:a.comment,date:new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};b(c=>{const f=[l,...c],S=localStorage.getItem(`klyora_reviews_${t}`),v=S?JSON.parse(S):[];return localStorage.setItem(`klyora_reviews_${t}`,JSON.stringify([l,...v])),f}),u({rating:5,comment:"",name:""}),w(!1),g(!1)},800))},x=({rating:n,interactive:l=!1,onRate:c})=>e.jsx("div",{className:"flex gap-1.5",children:[1,2,3,4,5].map(f=>e.jsx("button",{type:"button",disabled:!l,onClick:()=>c==null?void 0:c(f),className:`${l?"cursor-pointer hover:scale-125 transition-transform":"cursor-default"}`,children:e.jsx("svg",{className:`w-3 h-3 ${f<=n?"fill-[#8ca67a]":"fill-none stroke-black/10 stroke-1"}`,viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},f))});return e.jsxs("div",{className:"space-y-16",children:[e.jsxs("div",{className:"flex justify-between items-end border-b border-black/5 pb-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-[10px] uppercase font-bold tracking-[0.4em] text-zinc-300",children:"Client Reflections"}),e.jsx("p",{className:"text-3xl font-serif italic text-black",children:"What they felt."})]}),!j&&e.jsx("button",{onClick:()=>g(!0),className:"text-[9px] uppercase tracking-[0.4em] font-bold text-black border-b border-black pb-1 hover:opacity-50 transition-all",children:"Add Reflection"})]}),j&&e.jsxs("div",{className:"bg-zinc-50 p-10 border border-black/5 animate-fade-in-up",children:[e.jsxs("div",{className:"flex justify-between items-center mb-10",children:[e.jsx("h4",{className:"text-[9px] uppercase font-bold tracking-[0.3em]",children:"Submit Reflection"}),e.jsx("button",{onClick:()=>g(!1),className:"text-[18px] text-zinc-300 hover:text-black",children:"Ã—"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-8",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-[8px] uppercase font-bold tracking-widest text-zinc-400",children:"Sentiment Intensity"}),e.jsx(x,{rating:a.rating,interactive:!0,onRate:n=>u(l=>({...l,rating:n}))})]}),e.jsx("input",{type:"text",placeholder:"Name or Pseudonym",className:"w-full bg-transparent border-b border-black/10 p-4 text-[11px] uppercase tracking-widest outline-none focus:border-black transition-all",value:a.name,onChange:n=>u(l=>({...l,name:n.target.value}))}),e.jsx("textarea",{placeholder:"Your reflection on the drape, silhouette, or textile...",className:"w-full bg-transparent border-b border-black/10 p-4 text-[12px] uppercase tracking-widest outline-none focus:border-black min-h-[120px] resize-none transition-all font-light",value:a.comment,onChange:n=>u(l=>({...l,comment:n.target.value}))}),e.jsx("button",{type:"submit",disabled:r||!a.comment.trim(),className:"w-full bg-black text-white py-6 text-[10px] font-bold uppercase tracking-[0.5em] hover:bg-zinc-800 transition-all disabled:opacity-20 shadow-xl",children:r?"Securing Submission...":"Publish Reflection"})]})]}),e.jsxs("div",{className:"space-y-16",children:[e.jsx("div",{id:"judgeme_product_reviews",className:"jdgm-widget jdgm-review-widget","data-product-title":t,"data-id":t}),e.jsx("div",{id:"looxReviews","data-product-id":"",className:"loox-reviews-default"}),p?e.jsx("div",{className:"space-y-12",children:[1,2].map((n,l)=>e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-2 bg-zinc-100 w-1/4"}),e.jsx("div",{className:"h-4 bg-zinc-100 w-full"}),e.jsx("div",{className:"h-4 bg-zinc-100 w-2/3"})]},l))}):m.length===0?e.jsx("p",{className:"text-[11px] uppercase tracking-widest text-zinc-300 italic text-center py-10",children:"No reflections yet recorded for this silhouette."}):e.jsx("div",{className:"columns-1 md:columns-2 gap-8 space-y-8",children:m.map(n=>e.jsxs("div",{className:"break-inside-avoid bg-zinc-50/50 p-8 border border-zinc-100 hover:border-black/10 transition-colors animate-fade-in group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest text-black block",children:n.name}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-[8px] uppercase tracking-widest text-[#8ca67a] flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Verified Client"]})})]}),e.jsx(x,{rating:n.rating})]}),e.jsxs("p",{className:"text-[14px] leading-[1.8] text-zinc-600 font-serif italic font-light group-hover:text-black transition-colors",children:['"',n.comment,'"']}),e.jsx("div",{className:"mt-6 pt-6 border-t border-black/5 flex justify-between items-center",children:e.jsx("span",{className:"text-[8px] uppercase tracking-widest text-zinc-300 font-bold",children:n.date})})]},n.id))})]})]})},E=({currentProductId:t,products:m,currency:b="$"})=>{const p=m.find(a=>a.id===t),d=m.filter(a=>a.id!==t&&a.category===(p==null?void 0:p.category)).slice(0,4);return d.length===0?null:e.jsxs("div",{className:"space-y-12",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-[10px] uppercase font-bold tracking-[0.4em] text-zinc-300",children:"Atelier Curation"}),e.jsx("p",{className:"text-3xl font-serif italic text-black",children:"Curated Pairings."})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:d.map(a=>e.jsxs("div",{className:"group cursor-pointer space-y-4",children:[e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-zinc-100",children:[e.jsx(A,{src:a.image,alt:a.name,aspectRatio:"aspect-auto h-full w-full",className:"group-hover:scale-110 transition-transform duration-[2s]"}),e.jsx("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h5",{className:"text-[9px] uppercase font-bold tracking-[0.2em] truncate text-black",children:a.name}),e.jsxs("p",{className:"text-[11px] font-serif italic text-zinc-400",children:[b,a.price]})]})]},a.id))})]})},_={pageView:()=>{window.fbq&&window.fbq("track","PageView"),window.ttq&&window.ttq.page(),console.log("ðŸ“Š Analytics: PageView")},viewContent:t=>{window.fbq&&window.fbq("track","ViewContent",{content_ids:[t.id],content_name:t.name,value:t.price,currency:t.currency,content_type:"product"}),window.ttq&&window.ttq.track("ViewContent",{content_id:t.id,content_name:t.name,value:t.price,currency:t.currency}),console.log(`ðŸ“Š Analytics: ViewContent - ${t.name}`)},addToCart:t=>{window.fbq&&window.fbq("track","AddToCart",{content_ids:[t.id],content_name:t.name,value:t.price,currency:t.currency,content_type:"product",variant:t.variant}),window.ttq&&window.ttq.track("AddToCart",{content_id:t.id,content_name:t.name,value:t.price,currency:t.currency}),console.log(`ðŸ“Š Analytics: AddToCart - ${t.name} (${t.variant})`)},initiateCheckout:(t,m,b)=>{window.fbq&&window.fbq("track","InitiateCheckout",{value:t,currency:m,content_ids:b.map(p=>p.id),num_items:b.length}),window.ttq&&window.ttq.track("InitiateCheckout",{value:t,currency:m,contents:b.map(p=>({content_id:p.id,content_name:p.name}))}),console.log(`ðŸ“Š Analytics: InitiateCheckout - ${m}${t}`)}},W=({product:t,allProducts:m,onClose:b,onAddToCart:p,currency:d="$",isSaved:a,onToggleSave:u})=>{var M,I,R;const[r,w]=o.useState(((M=t.variants)==null?void 0:M[0])||null),[j,g]=o.useState(t.image),[y,x]=o.useState(!1);o.useEffect(()=>{var s;(s=t.variants)!=null&&s.length&&w(t.variants[0]),g(t.image),_.viewContent({id:t.id,name:t.name,price:t.price,currency:d==="$"?"USD":d==="â‚¬"?"EUR":"GBP"})},[t]);const n=L.useMemo(()=>{const s=[t.image];return t.images&&t.images.forEach(i=>{!s.includes(i)&&i!==t.image&&s.push(i)}),Array.from(new Set(s))},[t]),l=L.useMemo(()=>!t.variants||t.variants.length===0?{type:"simple",options:[]}:t.variants[0].title.includes(" / ")?{type:"complex"}:{type:"simple"},[t]),c=L.useMemo(()=>{var h;if(l.type==="simple")return null;const s=new Set,i=new Set;return(h=t.variants)==null||h.forEach(z=>{const N=z.title.split(" / ");N.length>=1&&s.add(N[0]),N.length>=2&&i.add(N[1])}),{sizes:Array.from(s),colors:Array.from(i)}},[t,l]),[f,S]=o.useState(null),[v,$]=o.useState(null);o.useEffect(()=>{var s;if(l.type==="complex"&&((s=t.variants)!=null&&s.length)){const i=t.variants[0].title.split(" / ");S(i[0]),i.length>1&&$(i[1])}},[t,l]),o.useEffect(()=>{var s;if(l.type==="complex"&&f&&v){const i=(s=t.variants)==null?void 0:s.find(h=>h.title===`${f} / ${v}`||h.title===`${f} / ${v} /`);i&&w(i)}},[f,v,t]);const[k,B]=o.useState("senses"),C=s=>{B(k===s?null:s)};return e.jsxs("div",{className:"fixed inset-0 z-[500] flex items-center justify-center p-0 md:p-8 font-sans",children:[e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org/","@type":"Product",name:t.name,image:t.images||[t.image],description:t.description||`Luxury ${t.name} from Maison Klyora.`,brand:{"@type":"Brand",name:"Maison Klyora"},offers:{"@type":"Offer",url:window.location.href,priceCurrency:d==="$"?"USD":d==="â‚¬"?"EUR":"GBP",price:t.price,availability:((I=t.variants)==null?void 0:I.some(s=>s.available))??!0?"https://schema.org/InStock":"https://schema.org/OutOfStock",itemCondition:"https://schema.org/NewCondition"}})}),e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-xl animate-fade-in",onClick:b}),e.jsxs("div",{className:"relative w-full max-w-5xl bg-white shadow-2xl animate-fade-scale flex flex-col md:flex-row overflow-hidden h-full md:h-[75vh] md:max-h-[700px] md:rounded-sm",children:[e.jsx("button",{onClick:b,className:"absolute top-4 right-4 z-[510] p-2 text-black/50 hover:text-black hover:rotate-90 transition-all duration-500 bg-white/80 backdrop-blur rounded-full",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("div",{className:"w-full md:w-1/2 bg-zinc-50 relative group overflow-hidden flex flex-col border-r border-black/5 p-8",children:[e.jsxs("div",{className:"flex-1 relative overflow-hidden h-full flex items-center justify-center",children:[e.jsx(A,{src:j||t.image,alt:t.name,aspectRatio:"aspect-auto h-full w-full",className:"transition-transform duration-[3s] ease-out scale-100 group-hover:scale-105 object-contain"}),n.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s=>{s.stopPropagation();const i=n.indexOf(j||t.image),h=i<=0?n.length-1:i-1;g(n[h])},className:"absolute left-0 top-1/2 -translate-y-1/2 p-3 text-black/20 hover:text-black hover:bg-white/10 transition-all z-10",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M15 19l-7-7 7-7"})})}),e.jsx("button",{onClick:s=>{s.stopPropagation();const h=(n.indexOf(j||t.image)+1)%n.length;g(n[h])},className:"absolute right-0 top-1/2 -translate-y-1/2 p-3 text-black/20 hover:text-black hover:bg-white/10 transition-all z-10",children:e.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 5l7 7-7 7"})})})]})]}),n.length>1&&e.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2 p-2 z-20",children:n.map((s,i)=>e.jsx("button",{onClick:h=>{h.stopPropagation(),g(s)},className:`w-2 h-2 rounded-full transition-all duration-300 ${j===s?"bg-black w-4":"bg-black/20 hover:bg-black/40"}`},i))})]}),e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col bg-white text-black relative",children:[e.jsx("div",{className:"p-8 border-b border-black/5 bg-white z-10 shrink-0",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"h-[1px] w-6 bg-black"}),e.jsx("span",{className:"text-[9px] uppercase tracking-[0.3em] font-bold text-black",children:"Klyora Atelier"})]}),e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-serif italic font-medium tracking-tight text-black leading-tight pr-8",children:t.name}),e.jsx("button",{onClick:u,className:"p-1 hover:text-red-500 transition-colors",children:a?e.jsx("svg",{className:"w-5 h-5 text-red-500 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})]}),e.jsxs("div",{className:"flex items-baseline gap-4 flex-col items-end",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-xl font-sans font-light tracking-wide text-zinc-900",children:[e.jsxs("span",{className:"line-through text-zinc-400 text-sm mr-2",children:[d,Math.round(t.price*1.4).toLocaleString()]}),d,t.price.toLocaleString()]}),e.jsx("p",{className:"text-[9px] uppercase tracking-widest text-[#8ca67a] font-bold",children:"Member Price"})]}),(t.lowStock||t.reviews&&t.reviews>10)&&e.jsx("p",{className:"text-[10px] text-red-800 uppercase tracking-widest font-bold animate-pulse",children:t.lowStock?"Low Stock: Only 3 Left":"High Demand: Selling Fast"}),e.jsxs("div",{className:"flex flex-col items-end gap-1 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-zinc-500",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"})}),e.jsx("span",{children:"Est. Delivery: 7-15 Days"})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-[9px] text-[#8ca67a] font-medium opacity-80",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0"})}),e.jsx("span",{children:"Secure Checkout"})]})]})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-baseline border-b border-black/5 pb-2",children:[e.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-bold text-zinc-500",children:"Select Size"}),e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 text-[10px] uppercase tracking-[0.1em] font-bold text-white bg-black px-3 py-1.5 hover:bg-zinc-800 transition-colors",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),"Find My Fit"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.type==="simple"?((R=t.variants)==null?void 0:R.map(s=>e.jsx("button",{onClick:()=>s.available&&w(s),disabled:!s.available,className:`min-w-[3.5rem] h-10 px-3 border text-[10px] font-medium transition-all duration-300 flex items-center justify-center ${s.available?(r==null?void 0:r.id)===s.id?"bg-black text-white border-black":"border-zinc-200 hover:border-black text-black bg-transparent":"opacity-30 cursor-not-allowed line-through bg-zinc-50 border-zinc-100"}`,children:s.title},s.id)))||e.jsx("span",{className:"text-sm text-zinc-400 px-2 italic",children:"Universal Fit"}):e.jsxs("div",{className:"w-full space-y-6",children:[(c==null?void 0:c.colors)&&c.colors.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("span",{className:"text-[9px] uppercase tracking-widest text-zinc-400",children:["Select Color: ",e.jsx("span",{className:"text-black font-bold",children:v})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.colors.map(s=>e.jsx("button",{onClick:()=>$(s),className:`px-4 py-2 text-[10px] border transition-all ${v===s?"bg-black text-white border-black":"bg-white text-black border-zinc-200 hover:border-black"}`,children:s},s))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("span",{className:"text-[9px] uppercase tracking-widest text-zinc-400",children:["Select Size: ",e.jsx("span",{className:"text-black font-bold",children:f})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c==null?void 0:c.sizes.map(s=>{var z;const i=(z=t.variants)==null?void 0:z.find(N=>N.title===`${s} / ${v}`),h=(i==null?void 0:i.available)??!1;return e.jsxs("button",{onClick:()=>S(s),className:`min-w-[3rem] h-10 px-3 border text-[10px] font-medium transition-all flex items-center justify-center 
                                                ${f===s?"bg-black text-white border-black":"bg-white text-black border-zinc-200 hover:border-black"}
                                                ${h?"":"opacity-50 relative overflow-hidden"}
                                            `,children:[s,!h&&e.jsx("span",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-full h-[1px] bg-zinc-400 rotate-45"})})]},s)})})]})]})})]}),e.jsxs("div",{className:"space-y-0 border-t border-black/10",children:[e.jsxs("div",{className:"border-b border-black/10",children:[e.jsxs("button",{onClick:()=>C("senses"),className:"w-full py-4 flex justify-between items-center text-left group",children:[e.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-bold group-hover:text-zinc-600 transition-colors",children:"The Senses & Composition"}),e.jsx("span",{className:`text-lg font-light transition-transform duration-300 ${k==="senses"?"rotate-45":""}`,children:"+"})]}),e.jsxs("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${k==="senses"?"max-h-[1000px] opacity-100 pb-4":"max-h-0 opacity-0"}`,children:[e.jsx("div",{className:"space-y-4 text-xs text-zinc-600 font-light leading-relaxed pt-2",children:t.description?t.description.split(`
`).map(s=>s.trim()).filter(s=>s.length>0).map((s,i)=>s.includes(":")&&s.length<40||s.length<20&&s===s.toUpperCase()?e.jsx("div",{className:"mt-4 mb-2",children:e.jsx("h4",{className:"font-serif italic text-black text-base border-l-2 border-[#8ca67a] pl-3 inline-block",children:s})},i):e.jsx("p",{className:"text-zinc-500",children:s},i)):e.jsx("div",{dangerouslySetInnerHTML:{__html:t.descriptionHtml}})}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-dashed border-zinc-200 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] uppercase tracking-widest text-zinc-400 mb-1",children:"Material"}),e.jsx("p",{className:"text-xs",children:t.composition||"Premium Blend"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[9px] uppercase tracking-widest text-zinc-400 mb-1",children:"Origin"}),e.jsx("p",{className:"text-xs",children:t.origin||"Italy"})]})]})]})]}),e.jsxs("div",{className:"border-b border-black/10",children:[e.jsxs("button",{onClick:()=>C("shipping"),className:"w-full py-4 flex justify-between items-center text-left group",children:[e.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-bold group-hover:text-zinc-600 transition-colors",children:"Shipping & Returns"}),e.jsx("span",{className:`text-lg font-light transition-transform duration-300 ${k==="shipping"?"rotate-45":""}`,children:"+"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${k==="shipping"?"max-h-[300px] opacity-100 pb-4":"max-h-0 opacity-0"}`,children:e.jsx("p",{className:"text-xs font-light text-zinc-600 leading-relaxed",children:"Global Shipping (7-15 Business Days) on all orders. Returns accepted within 14 days."})})]}),e.jsxs("div",{className:"border-b border-black/10",children:[e.jsxs("button",{onClick:()=>C("reviews"),className:"w-full py-4 flex justify-between items-center text-left group",children:[e.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-bold group-hover:text-zinc-600 transition-colors",children:"Client Reflections"}),e.jsx("span",{className:`text-lg font-light transition-transform duration-300 ${k==="reviews"?"rotate-45":""}`,children:"+"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${k==="reviews"?"max-h-[800px] opacity-100 pb-4":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"pt-4",children:e.jsx(O,{productName:t.name})})})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx(E,{currentProductId:t.id,products:m,currency:d})})]}),e.jsxs("div",{className:"p-6 bg-white border-t border-black/5 z-20 shrink-0",children:[r&&!r.available?e.jsxs("button",{onClick:()=>{const s=prompt("Enter your email to be notified when this piece returns to the atelier:");if(s){const i=JSON.parse(localStorage.getItem("klyora_waitlist")||"[]");i.push({email:s,product:t.name,date:new Date().toISOString()}),localStorage.setItem("klyora_waitlist",JSON.stringify(i)),alert(`You have been added to the priority waitlist for ${t.name}. We will contact you at ${s}.`)}},className:"w-full bg-zinc-900/50 text-white py-4 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-zinc-900 transition-all rounded-none flex items-center justify-center gap-3 backdrop-blur-md",children:[e.jsx("span",{children:"Join Waitlist"}),e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0"})})]}):e.jsxs("button",{onClick:()=>{r&&(p(t,r),_.addToCart({id:t.id,name:t.name,price:t.price,variant:r.title,currency:d==="$"?"USD":d==="â‚¬"?"EUR":"GBP"}))},disabled:!r,className:"w-full bg-black text-white py-4 text-[10px] font-bold uppercase tracking-[0.4em] hover:bg-zinc-800 transition-all rounded-none disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-3 group",children:[e.jsx("span",{children:r?`Add to Bag - ${d}${t.price.toLocaleString()}`:"Select Size"}),r&&e.jsx("span",{className:"w-1 h-1 bg-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-3 opacity-40",children:[e.jsx("span",{className:"text-[8px] uppercase tracking-widest font-bold",children:"Encrypted via Shopify"}),e.jsx("span",{className:"flex gap-2",children:["VISA","MC","AMEX"].map(s=>e.jsx("span",{className:"text-[8px] font-serif italic",children:s},s))})]})]})]})]}),e.jsx(P,{isOpen:y,onClose:()=>x(!1),productName:t.name})]})};export{W as QuickViewModal};

import{R as a,j as e,C as I,B as L,E as _}from"./klyora.js";const T=({items:s,onClose:c,onRemove:f,onCheckout:g,currency:i})=>{const h=t=>({$:"United States","£":"United Kingdom","€":"France","¥":"Japan","₹":"India","AED ":"United Arab Emirates"})[t]||"United States",[r,m]=a.useState(h(i));a.useEffect(()=>{m(h(i))},[i]);const[n,j]=a.useState(!1),[v,N]=a.useState(""),[k,w]=a.useState(!1),[y,l]=a.useState("Verifying Inventory"),S=()=>{w(!0),setTimeout(()=>l("Reserving Stock"),1e3),setTimeout(()=>l("Structuring Parcel"),2500),setTimeout(()=>l("Redirecting to Secure Checkout"),4e3),setTimeout(()=>g(),5e3)},z=_[r]||1,o=I[r]||i,d=t=>Math.round(t*z),C=s.reduce((t,p)=>t+p.price*p.quantity,0),x=d(C),u=d(500),E=Math.min(x/u*100,100),b=u-x,R=["United States","United Kingdom","Canada","Australia","France","Germany","Italy","Spain","India","United Arab Emirates","Japan","Singapore"];return e.jsxs("div",{className:"fixed inset-0 z-[400] flex justify-end font-sans",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm transition-opacity",onClick:c}),e.jsxs("div",{className:"relative w-full max-w-[500px] bg-white h-full flex flex-col shadow-[0_0_50px_rgba(0,0,0,0.1)] animate-slide-left",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-black/5 bg-white z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-serif italic font-bold text-black",children:["Shopping Bag ",e.jsxs("span",{className:"text-sm font-sans not-italic text-zinc-400 font-normal",children:["(",s.length,")"]})]}),e.jsx("button",{onClick:c,className:"p-2 -mr-2 text-zinc-400 hover:text-black transition-colors rounded-full hover:bg-zinc-100",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-[11px] uppercase tracking-widest font-bold text-center text-zinc-600",children:b>0?e.jsxs(e.Fragment,{children:["Spend ",e.jsxs("span",{children:[o,b.toLocaleString()]})," more for ",e.jsx("span",{className:"text-black",children:"Complimentary Shipping"})]}):e.jsx("span",{className:"text-[#8ca67a]",children:"You have unlocked Complimentary Shipping"})}),e.jsx("div",{className:"h-[2px] w-full bg-zinc-100 overflow-hidden",children:e.jsx("div",{className:"h-full bg-black transition-all duration-1000 ease-out",style:{width:`${E}%`}})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-8 space-y-8 min-h-0",children:s.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center space-y-4",children:[e.jsx("span",{className:"text-4xl"}),e.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-zinc-500 font-bold",children:"Your bag is currently empty"}),e.jsx("button",{onClick:c,className:"text-xs underline underline-offset-4 hover:text-zinc-500 transition-colors",children:"Continue Shopping"})]}):s.map(t=>e.jsxs("div",{className:"flex gap-6 group",children:[e.jsx("div",{className:"w-28 shrink-0 relative aspect-[3/4] bg-zinc-50 overflow-hidden",children:e.jsx(L,{src:t.image,alt:t.name,aspectRatio:"aspect-[3/4] h-full w-full",className:"object-cover transition-transform duration-700 group-hover:scale-105"})}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start gap-4",children:[e.jsx("h3",{className:"text-xs uppercase font-bold tracking-widest leading-relaxed text-black max-w-[180px]",children:t.name}),e.jsxs("p",{className:"text-sm font-serif italic text-black",children:[o,d(t.price).toLocaleString()]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider font-medium",children:["Size: ",e.jsx("span",{className:"text-black",children:t.selectedVariant.title})]}),e.jsxs("p",{className:"text-[10px] text-zinc-500 uppercase tracking-wider font-medium",children:["Qty: ",t.quantity]})]})]}),e.jsx("button",{onClick:()=>f(t.id,t.selectedVariant.id),className:"text-[9px] uppercase tracking-widest text-zinc-400 hover:text-red-500 text-left transition-colors w-fit border-b border-transparent hover:border-red-500",children:"Remove"})]})]},`${t.id}-${t.selectedVariant.id}`))}),s.length>0&&e.jsx("div",{className:"p-8 bg-zinc-50 border-t border-black/5 space-y-6",children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[9px] uppercase tracking-[0.2em] font-bold text-zinc-500",children:"Shipping Destination"}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:r,onChange:t=>m(t.target.value),className:"w-full appearance-none bg-white border border-black/10 px-4 py-3 text-[10px] uppercase tracking-widest text-black focus:outline-none focus:border-black transition-colors",children:R.map(t=>e.jsx("option",{value:t,children:t},t))}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-gray-700",children:e.jsx("svg",{className:"fill-current h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})})}),e.jsx("div",{className:"pt-4 border-t border-black/5",children:e.jsxs("details",{className:"group cursor-pointer",children:[e.jsxs("summary",{className:"flex items-center justify-between list-none text-[10px] uppercase tracking-[0.2em] font-bold text-zinc-500 hover:text-black transition-colors mb-2",children:[e.jsx("span",{children:"The Unboxing Experience"}),e.jsx("span",{className:"text-lg font-light transition-transform group-open:rotate-45",children:"+"})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in",children:[e.jsxs("div",{className:"aspect-video w-full bg-zinc-100 overflow-hidden relative",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1631679706909-1844bbd07221?q=80&w=1992&auto=format&fit=crop",alt:"Signature Packaging",className:"w-full h-full object-cover hover:scale-105 transition-transform duration-700"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("span",{className:"bg-white/10 backdrop-blur px-3 py-1 text-[8px] uppercase tracking-widest text-white border border-white/20",children:"Signature Box"})})]}),e.jsx("p",{className:"text-[9px] text-zinc-500 italic",children:"Every order arrives in our scented, sustainable signature packaging."})]})]})}),e.jsxs("div",{className:"pt-4 border-t border-black/5",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[e.jsx("div",{className:`w-4 h-4 border transition-colors flex items-center justify-center ${n?"bg-black border-black":"border-zinc-300 group-hover:border-black"}`,children:n&&e.jsx("svg",{className:"w-2.5 h-2.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})})}),e.jsx("input",{type:"checkbox",className:"hidden",checked:n,onChange:t=>j(t.target.checked)}),e.jsx("span",{className:"text-[10px] uppercase tracking-widest font-bold text-zinc-600 group-hover:text-black transition-colors",children:"This is a gift"})]}),n&&e.jsxs("div",{className:"mt-3 animate-fade-in space-y-2",children:[e.jsx("textarea",{className:"w-full bg-white border border-black/10 p-3 text-xs font-serif italic focus:outline-none focus:border-black transition-colors resize-none placeholder:text-zinc-300",placeholder:"Add a personal note for the recipient...",rows:3,value:v,onChange:t=>N(t.target.value)}),e.jsx("p",{className:"text-[8px] uppercase tracking-widest text-zinc-400 text-right",children:"Complimentary Gift Wrapping Included"})]})]}),k&&e.jsxs("div",{className:"absolute inset-0 z-50 bg-white/95 backdrop-blur-md flex flex-col items-center justify-center animate-fade-in",children:[e.jsxs("div",{className:"w-16 h-16 border border-black/10 flex items-center justify-center mb-8 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/5 animate-ping"}),e.jsx("div",{className:"w-12 h-12 bg-black flex items-center justify-center",children:e.jsx("h3",{className:"text-white font-serif italic text-2xl",children:"K"})})]}),e.jsx("h3",{className:"text-xl font-serif italic mb-2 animate-pulse",children:y}),e.jsx("p",{className:"text-[9px] uppercase tracking-[0.3em] text-zinc-500",children:"Please wait"}),e.jsx("div",{className:"w-48 h-[1px] bg-black/10 mt-8 overflow-hidden",children:e.jsx("div",{className:"h-full bg-black w-1/3 animate-slide-right-infinite"})})]}),e.jsxs("div",{className:"p-8 bg-zinc-50 border-t border-black/5 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-baseline pt-4 border-t border-black/5",children:[e.jsx("span",{className:"text-[10px] uppercase tracking-[0.2em] font-bold text-zinc-500",children:"Subtotal"}),e.jsxs("span",{className:"text-lg font-serif italic font-bold",children:[o,x.toLocaleString()]})]}),e.jsx("p",{className:"text-[9px] text-zinc-400 text-center",children:"Shipping, taxes, and duty calculated at checkout."}),e.jsx("button",{onClick:S,disabled:s.length===0,className:"w-full bg-black text-white py-4 text-[11px] font-bold uppercase tracking-[0.4em] hover:bg-zinc-800 transition-all active:scale-[0.99] disabled:opacity-50 disabled:cursor-not-allowed",children:"Proceed to Checkout"})]})]})]})};export{T as CartDrawer};
